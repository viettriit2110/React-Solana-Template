{"ast":null,"code":"import { useWallet } from '@solana/wallet-adapter-react';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Button } from './Button.js';\nimport { useWalletModal } from './useWalletModal.js';\nimport { WalletConnectButton } from './WalletConnectButton.js';\nimport { WalletIcon } from './WalletIcon.js';\nimport { WalletModalButton } from './WalletModalButton.js';\nexport const WalletMultiButton = _ref => {\n  let {\n    children,\n    ...props\n  } = _ref;\n  const {\n    publicKey,\n    wallet,\n    disconnect\n  } = useWallet();\n  const {\n    setVisible\n  } = useWalletModal();\n  const [copied, setCopied] = useState(false);\n  const [active, setActive] = useState(false);\n  const ref = useRef(null);\n  const base58 = useMemo(() => publicKey?.toBase58(), [publicKey]);\n  const content = useMemo(() => {\n    if (children) return children;\n    if (!wallet || !base58) return null;\n    return base58.slice(0, 4) + '..' + base58.slice(-4);\n  }, [children, wallet, base58]);\n  const copyAddress = useCallback(async () => {\n    if (base58) {\n      await navigator.clipboard.writeText(base58);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 400);\n    }\n  }, [base58]);\n  const openDropdown = useCallback(() => {\n    setActive(true);\n  }, []);\n  const closeDropdown = useCallback(() => {\n    setActive(false);\n  }, []);\n  const openModal = useCallback(() => {\n    setVisible(true);\n    closeDropdown();\n  }, [setVisible, closeDropdown]);\n  useEffect(() => {\n    const listener = event => {\n      const node = ref.current;\n      // Do nothing if clicking dropdown or its descendants\n      if (!node || node.contains(event.target)) return;\n      closeDropdown();\n    };\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, closeDropdown]);\n  if (!wallet) return React.createElement(WalletModalButton, {\n    ...props\n  }, children);\n  if (!base58) return React.createElement(WalletConnectButton, {\n    ...props\n  }, children);\n  return React.createElement(\"div\", {\n    className: \"wallet-adapter-dropdown\"\n  }, React.createElement(Button, {\n    \"aria-expanded\": active,\n    className: \"wallet-adapter-button-trigger\",\n    style: {\n      pointerEvents: active ? 'none' : 'auto',\n      ...props.style\n    },\n    onClick: openDropdown,\n    startIcon: React.createElement(WalletIcon, {\n      wallet: wallet\n    }),\n    ...props\n  }, content), React.createElement(\"ul\", {\n    \"aria-label\": \"dropdown-list\",\n    className: `wallet-adapter-dropdown-list ${active && 'wallet-adapter-dropdown-list-active'}`,\n    ref: ref,\n    role: \"menu\"\n  }, React.createElement(\"li\", {\n    onClick: copyAddress,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, copied ? 'Copied' : 'Copy address'), React.createElement(\"li\", {\n    onClick: openModal,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Change wallet\"), React.createElement(\"li\", {\n    onClick: disconnect,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Disconnect\")));\n};","map":{"version":3,"mappings":"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","names":["useWallet","React","useCallback","useEffect","useMemo","useRef","useState","Button","useWalletModal","WalletConnectButton","WalletIcon","WalletModalButton","WalletMultiButton","children","props","publicKey","wallet","disconnect","setVisible","copied","setCopied","active","setActive","ref","base58","toBase58","content","slice","copyAddress","navigator","clipboard","writeText","setTimeout","openDropdown","closeDropdown","openModal","listener","event","node","current","contains","target","document","addEventListener","removeEventListener","className","style","pointerEvents","onClick","startIcon","role"],"sourceRoot":"","sources":["../../src/WalletMultiButton.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}